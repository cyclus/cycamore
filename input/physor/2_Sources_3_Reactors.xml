<?xml version="1.0"?>
<!-- 2 Sources 3 Reactors -->

<simulation>
  <control>
    <duration>5</duration>
    <startmonth>1</startmonth>
    <startyear>2000</startyear>
    <decay>0</decay>
  </control>

  <commodity>
    <name>uox</name>
  </commodity>

  <commodity>
    <name>mox</name>
  </commodity>

  <commodity>
    <name>waste</name>
  </commodity>

  <facility>
    <name>UOX_Source</name>
    <model>
      <SourceFacility>
        <output>
          <outcommodity>uox</outcommodity>
          <output_capacity>2.5</output_capacity>
          <recipe>uox_fuel_recipe</recipe>
        </output>
      </SourceFacility>
    </model>
  </facility>

  <facility>
    <name>MOX_Source</name>
    <model>
      <SourceFacility>
        <output>
          <outcommodity>mox</outcommodity>
          <output_capacity>2.5</output_capacity>
          <recipe>mox_fuel_recipe</recipe>
        </output>
      </SourceFacility>
    </model>
  </facility>

  <facility>
    <name>Reactor1</name>
    <model>
      <BatchReactor>
        <fuel>
          <incommodity>uox</incommodity>
          <inrecipe>uox_fuel_recipe</inrecipe>
          <outcommodity>waste</outcommodity>
          <outrecipe>uox_used_fuel_recipe</outrecipe> 
        </fuel>
        <fuel>
          <incommodity>mox</incommodity> 
          <inrecipe>mox_fuel_recipe</inrecipe>
          <outcommodity>waste</outcommodity>
          <outrecipe>mox_used_fuel_recipe</outrecipe> 
        </fuel>
        <processtime>1</processtime>
        <nbatches>1</nbatches>
        <batchsize>1</batchsize>
        <refueltime>0</refueltime>
        <initial_condition>
          <core>
            <nbatches>1</nbatches>
            <commodity>mox</commodity>
            <recipe>mox_fuel_recipe</recipe>
          </core>
        </initial_condition>
        <commodity_production>
          <commodity>lwr_power</commodity>
          <capacity>.928</capacity>        <!--GWe-y-->
          <cost>64</cost>        <!--$/kWe-y-->
        </commodity_production>
        <commod_pref>
          <incommodity>mox</incommodity>
          <preference>1.0</preference>
        </commod_pref>
        <pref_change>
          <incommodity>uox</incommodity>
          <new_pref>2.0</new_pref>
          <time>4</time>
        </pref_change>
      </BatchReactor>
    </model>
  </facility>

  <facility>
    <name>Reactor2</name>
    <model>
      <BatchReactor>
        <fuel>
          <incommodity>uox</incommodity>
          <inrecipe>uox_fuel_recipe</inrecipe>
          <outcommodity>waste</outcommodity>
          <outrecipe>uox_used_fuel_recipe</outrecipe> 
        </fuel>
        <fuel>
          <incommodity>mox</incommodity> 
          <inrecipe>mox_fuel_recipe</inrecipe>
          <outcommodity>waste</outcommodity>
          <outrecipe>mox_used_fuel_recipe</outrecipe> 
        </fuel>
        <processtime>1</processtime>
        <nbatches>1</nbatches>
        <batchsize>1</batchsize>
        <refueltime>0</refueltime>
        <initial_condition>
          <core>
            <nbatches>1</nbatches>
            <commodity>mox</commodity>
            <recipe>mox_fuel_recipe</recipe>
          </core>
        </initial_condition>
        <commodity_production>
          <commodity>lwr_power</commodity>
          <capacity>.928</capacity>        <!--GWe-y-->
          <cost>64</cost>        <!--$/kWe-y-->
        </commodity_production>
        <commod_pref>
          <incommodity>mox</incommodity>
          <preference>1.0</preference>
        </commod_pref>
      </BatchReactor>
    </model>
  </facility>

  <facility>
    <name>Reactor3</name>
    <model>
      <BatchReactor>
        <fuel>
          <incommodity>uox</incommodity>
          <inrecipe>uox_fuel_recipe</inrecipe>
          <outcommodity>waste</outcommodity>
          <outrecipe>uox_used_fuel_recipe</outrecipe> 
        </fuel>
        <fuel>
          <incommodity>mox</incommodity> 
          <inrecipe>mox_fuel_recipe</inrecipe>
          <outcommodity>waste</outcommodity>
          <outrecipe>mox_used_fuel_recipe</outrecipe> 
        </fuel>
        <processtime>1</processtime>
        <nbatches>1</nbatches>
        <batchsize>1</batchsize>
        <refueltime>0</refueltime>
        <initial_condition>
          <core>
            <nbatches>1</nbatches>
            <commodity>mox</commodity>
            <recipe>mox_fuel_recipe</recipe>
          </core>
        </initial_condition>
        <commodity_production>
          <commodity>lwr_power</commodity>
          <capacity>.928</capacity>        <!--GWe-y-->
          <cost>64</cost>        <!--$/kWe-y-->
        </commodity_production>
        <commod_pref>
          <incommodity>mox</incommodity>
          <preference>0.5</preference>
        </commod_pref>
      </BatchReactor>
    </model>
  </facility>

  <region>
    <name>SingleRegion</name>
    <allowedfacility>UOX_Source</allowedfacility>
    <allowedfacility>MOX_Source</allowedfacility>
    <allowedfacility>Reactor1</allowedfacility>
    <allowedfacility>Reactor2</allowedfacility>
    <allowedfacility>Reactor3</allowedfacility>
    <model>
      <NullRegion/>
    </model>
    <institution>
      <name>SingleInstitution</name>
      <availableprototype>UOX_Source</availableprototype>
      <availableprototype>MOX_Source</availableprototype>
      <availableprototype>Reactor1</availableprototype>
      <availableprototype>Reactor2</availableprototype>
      <availableprototype>Reactor3</availableprototype>
      <model>
        <DeployInst>
          <buildorder>
            <prototype>UOX_Source</prototype>
            <number>1</number>
            <date>1</date>
          </buildorder>
          <buildorder>
            <prototype>MOX_Source</prototype>        
            <number>1</number>
            <date>1</date>
          </buildorder>
          <buildorder>
            <prototype>Reactor1</prototype>
            <number>1</number>        
            <date>1</date>
          </buildorder>
          <buildorder>
            <prototype>Reactor2</prototype>
            <number>1</number>        
            <date>2</date>
          </buildorder>
          <buildorder>
            <prototype>Reactor3</prototype>
            <number>1</number>        
            <date>3</date>
          </buildorder>        
        </DeployInst>
      </model>
    </institution>
  </region>

  <recipe>
    <name>natl_u</name>
    <basis>mass</basis>
    <nuclide>
      <id>922350000</id>
      <comp>0.711</comp>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <comp>99.289</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>uox_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide>
      <id>922350000</id>
      <comp>4.0</comp>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <comp>96.0</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>uox_used_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide>
      <id>922350000</id>
      <comp>156.729</comp>
    </nuclide>
    <nuclide>
      <id>922360000</id>
      <comp>102.103</comp>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <comp>18280.324</comp>
    </nuclide>
    <nuclide>
      <id>932370000</id>
      <comp>13.656</comp>
    </nuclide>
    <nuclide>
      <id>942380000</id>
      <comp>5.043</comp>
    </nuclide>
    <nuclide>
      <id>942390000</id>
      <comp>106.343</comp>
    </nuclide>
    <nuclide>
      <id>942400000</id>
      <comp>41.357</comp>
    </nuclide>
    <nuclide>
      <id>942410000</id>
      <comp>36.477</comp>
    </nuclide>
    <nuclide>
      <id>942420000</id>
      <comp>15.387</comp>
    </nuclide>
    <nuclide>
      <id>952410000</id>
      <comp>1.234</comp>
    </nuclide>
    <!-- <nuclide> -->
      <!--   <id>95242m</id> -->
      <!--   <comp>0.03</comp> -->
      <!-- </nuclide> -->
    <nuclide>
      <id>952430000</id>
      <comp>3.607</comp>
    </nuclide>
    <nuclide>
      <id>962440000</id>
      <comp>0.431</comp>
    </nuclide>
    <nuclide>
      <id>962450000</id>
      <comp>1.263</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>mox_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide>
      <id>922340000</id>
      <comp>0.0002</comp>
    </nuclide>
    <nuclide>
      <id>922350000</id>
      <comp>0.0018</comp>
    </nuclide>
    <nuclide>
      <id>922360000</id>
      <comp>0.01</comp>
    </nuclide>
    <nuclide>
      <id>922380000</id><comp>0.8973</comp>
    </nuclide>
    <nuclide>
      <id>942380000</id>
      <comp>0.0032</comp>
    </nuclide>
    <nuclide>
      <id>942390000</id>
      <comp>0.0507</comp>
    </nuclide>
    <nuclide>
      <id>942400000</id>
      <comp>0.0247</comp>
    </nuclide>
    <nuclide>
      <id>942410000</id>
      <comp>0.0134</comp>
    </nuclide>
    <nuclide>
      <id>942420000</id>
      <comp>0.0085</comp>
    </nuclide>
    <nuclide>
      <id>080160000</id>
      <comp>0.13</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>mox_used_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide>
      <id>922350000</id>
      <comp>0.01</comp>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <comp>0.94</comp>
    </nuclide>
    <nuclide>
      <id>922360000</id>
      <comp>0.03</comp>
    </nuclide>
    <nuclide>
      <id>080160000</id>
      <comp>0.13</comp>
    </nuclide>
    <nuclide>
      <id>942390000</id>
      <comp>0.02</comp>
    </nuclide>
  </recipe>

</simulation>
