<?xml version="1.0"?>
<!-- 1 SourceFacility Source, 1 SinkFacility Sink -->

<simulation>
  <control>
    <duration>12</duration>
    <startmonth>1</startmonth>
    <startyear>2000</startyear>
    <decay>2</decay>
  </control>

  <commodity>
    <name>natl_u</name>
  </commodity>

  <commodity>
    <name>enriched_u</name>
  </commodity>

  <commodity>
    <name>waste</name>
  </commodity>

  <facility>
    <name>Source</name>
    <module>
      <path>SourceFacility</path>
      <agent>SourceFacility</agent>
    </module>
    <agent>
      <SourceFacility>
        <out_commod>natl_u</out_commod>
        <capacity>1000</capacity>
        <recipe_name>natl_u</recipe_name>
      </SourceFacility>
    </agent>
  </facility>

  <facility>
    <name>Enrichment</name>
    <module>
      <path>EnrichmentFacility</path>
      <agent>EnrichmentFacility</agent>
    </module>
    <agent>
      <EnrichmentFacility>
        <in_commod>natl_u</in_commod>
        <in_recipe>natl_u</in_recipe>
        <max_inv_size>100</max_inv_size>
        <out_commod>enriched_u</out_commod>
        <tails_assay>0.003</tails_assay>
      </EnrichmentFacility>
    </agent>
  </facility>

  <facility>
    <name>Reactor</name>
    <module>
      <path>BatchReactor</path>
      <agent>BatchReactor</agent>
    </module>
    <agent>
      <BatchReactor>
        <fuel>
          <incommodity>enriched_u</incommodity>
          <inrecipe>fuel_recipe</inrecipe>
          <outcommodity>waste</outcommodity>
          <outrecipe>used_fuel_recipe</outrecipe>
        </fuel>
        <processtime>1</processtime>
        <nbatches>1</nbatches>
        <batchsize>2</batchsize>
        <commodity_production>
          <commodity>power</commodity>
          <capacity>10</capacity>
          <cost>10</cost>
        </commodity_production>
      </BatchReactor>
    </agent>
  </facility>
  
  <facility>
    <name>Sink</name>
    <module>
      <path>SinkFacility</path>
      <agent>SinkFacility</agent>
    </module>
    <agent>
      <SinkFacility>
        <in_commods>
          <val>waste</val>
        </in_commods>
        <capacity>1000</capacity>
      </SinkFacility>
    </agent>
  </facility>

  <region>
    <name>SingleRegion</name>
    <module>
      <path>GrowthRegion</path>
      <agent>GrowthRegion</agent>
    </module>
    <allowedfacility>Source</allowedfacility>
    <allowedfacility>Enrichment</allowedfacility>
    <allowedfacility>Reactor</allowedfacility>
    <allowedfacility>Sink</allowedfacility>
    <agent>
      <GrowthRegion>
        <commodity>
          <name>power</name>
          <demand>
            <type>linear</type>
            <parameters>10 0</parameters>
          </demand>
        </commodity>
      </GrowthRegion>
    </agent>
    <institution>
      <name>SingleInstitution</name>
      <module>
        <path>ManagerInst</path>
        <agent>ManagerInst</agent>
      </module>
      <availableprototype>Source</availableprototype>
      <availableprototype>Enrichment</availableprototype>
      <availableprototype>Reactor</availableprototype>
      <availableprototype>Sink</availableprototype>
      <initialfacilitylist>
        <entry>
          <prototype>Source</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Enrichment</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Sink</prototype>
          <number>1</number>
        </entry>
      </initialfacilitylist>
      <agent><ManagerInst/></agent>
    </institution>
  </region>

  <recipe>
    <name>natl_u</name>
    <basis>atom</basis>
    <nuclide>
      <id>922350000</id>
      <comp>0.7</comp>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <comp>99.3</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>fuel_recipe</name>
    <basis>atom</basis>
    <nuclide>
      <id>922350000</id>
      <comp>4.5</comp>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <comp>95.5</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>used_fuel_recipe</name>
    <basis>atom</basis>
    <nuclide>
      <id>10010000</id>
      <comp>100</comp>
    </nuclide>
  </recipe>

</simulation>
