<?xml version="1.0"?>
<!-- 1 SourceFacility Source, 1 SinkFacility Sink -->

<simulation>
  <control>
    <duration>1105</duration>
    <startmonth>11</startmonth>
    <startyear>2007</startyear>
    <decay>2</decay>
  </control>

  <commodity>
    <name>natl_u</name>
  </commodity>

  <commodity>
    <name>enriched_u</name>
  </commodity>

  <commodity>
    <name>waste</name>
  </commodity>

  <prototype>
    <name>Source</name>
    <model>
      <SourceFacility>
        <output>
          <outcommodity>natl_u</outcommodity>
          <recipe>natl_u</recipe>
        </output>
      </SourceFacility>
    </model>
    <outcommodity>natl_u</outcommodity>
  </prototype>

  <prototype>
    <name>Enrichment</name>
    <model>
      <EnrichmentFacility>
        <input>
          <incommodity>natl_u</incommodity>
          <inrecipe>natl_u</inrecipe>
        </input>
        <output>
          <outcommodity>enriched_u</outcommodity>
          <tails_assay>0.003</tails_assay>
        </output>
      </EnrichmentFacility>
    </model>
    <incommodity>natl_u</incommodity>
    <outcommodity>enriched_u</outcommodity>
  </prototype>

  <prototype>
    <name>LWR_Reactor</name>
    <lifetime>480</lifetime>
    <model>
      <InproReactor>
        <fuel_input>
         <incommodity>enriched_u</incommodity>
         <inrecipe>lwr_fuel_recipe</inrecipe>
        </fuel_input>
        <fuel_output>
         <outcommodity>waste</outcommodity>
         <outrecipe>lwr_used_fuel_recipe</outrecipe>
        </fuel_output>
        <cyclelength>10</cyclelength>
        <refueldelay>2</refueldelay>
        <incoreloading>7.8707064e4</incoreloading>
        <outcoreloading>7.5055932e4</outcoreloading>
        <batchespercore>4</batchespercore>
        <commodity_production>
          <commodity>lwr_power</commodity>
          <capacity>1000</capacity>
          <cost>1000</cost>
        </commodity_production>
      </InproReactor>
    </model>
    <incommodity>enriched_u</incommodity>
    <outcommodity>waste</outcommodity>
  </prototype>

  <prototype>
    <name>HWR_Reactor</name>
    <lifetime>480</lifetime>
    <model>
      <InproReactor>
        <fuel_input>
         <incommodity>enriched_u</incommodity>
         <inrecipe>natl_u</inrecipe>
        </fuel_input>
        <fuel_output>
         <outcommodity>waste</outcommodity>
         <outrecipe>hwr_used_fuel_recipe</outrecipe>
        </fuel_output>
        <cyclelength>10</cyclelength>
        <refueldelay>2</refueldelay>
        <incoreloading>1.39142873e5</incoreloading>
        <outcoreloading>1.38138735e5</outcoreloading>
        <batchespercore>1</batchespercore>
        <commodity_production>
          <commodity>hwr_power</commodity>
          <capacity>600</capacity>
          <cost>600</cost>
        </commodity_production>
      </InproReactor>
    </model>
    <incommodity>enriched_u</incommodity>
    <outcommodity>waste</outcommodity>
  </prototype>
  
  <prototype>
    <name>Sink</name>
    <model>
      <SinkFacility>
        <input>
          <commodities>
            <incommodity>waste</incommodity>
          </commodities>
        </input>
      </SinkFacility>
    </model>
    <incommodity>waste</incommodity>
  </prototype>

  <prototype>
    <name>SingleRegion</name>
    <allowedfacility>Source</allowedfacility>
    <allowedfacility>Enrichment</allowedfacility>
    <allowedfacility>LWR_Reactor</allowedfacility>
    <allowedfacility>HWR_Reactor</allowedfacility>
    <allowedfacility>Sink</allowedfacility>
    <model>
      <GrowthRegion>
        <commodity>
          <name>lwr_power</name>
          <demand>
            <type>linear</type>
            <parameters>811.82 349680</parameters> <!-- 372 GWe * 0.94 -->
            <start_time>1</start_time>
          </demand>
          <demand>
            <type>linear</type>
            <parameters>1566.7 0</parameters>
            <start_time>265</start_time>
          </demand>
          <demand>
            <type>linear</type>
            <parameters>2350 0</parameters>
            <start_time>505</start_time>
          </demand>
        </commodity>
        <commodity>
          <name>hwr_power</name>
          <demand>
            <type>linear</type>
            <parameters>51.812 22320</parameters> <!-- 372 GWe * 0.06 -->
            <start_time>1</start_time>
          </demand>
          <demand>
            <type>linear</type>
            <parameters>100 0</parameters>
            <start_time>265</start_time>
          </demand>
          <demand>
            <type>linear</type>
            <parameters>150 0</parameters>
            <start_time>505</start_time>
          </demand>
        </commodity>
      </GrowthRegion>
    </model>
  </prototype>

  <prototype>
    <name>SingleInstitution</name>
    <availableprototype>Source</availableprototype>
    <availableprototype>Enrichment</availableprototype>
    <availableprototype>LWR_Reactor</availableprototype>
    <availableprototype>HWR_Reactor</availableprototype>
    <availableprototype>Sink</availableprototype>
    <model>
      <ManagerInst/>
    </model>
  </prototype>

  <agent>
    <name>region1</name>
    <prototype>SingleRegion</prototype>
  </agent>

  <agent>
    <name>inst1</name>
    <prototype>SingleInstitution</prototype>
    <parent>region1</parent>
  </agent>

  <agent>
    <name>source</name>
    <prototype>Sink</prototype>
    <parent>inst1</parent>
  </agent>

  <agent>
    <name>enrichment</name>
    <prototype>Enrichment</prototype>
    <parent>inst1</parent>
  </agent>

  <agent>
    <name>sink</name>
    <prototype>Source</prototype>
    <parent>inst1</parent>
  </agent>

  <recipe>
    <name>natl_u</name>
    <basis>mass</basis>
    <nuclide>
      <id>922350000</id>
      <frac>0.711</frac>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <frac>99.289</frac>
    </nuclide>
  </recipe>

  <recipe>
    <name>lwr_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide>
      <id>922350000</id>
      <frac>4.0</frac>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <frac>96.0</frac>
    </nuclide>
  </recipe>

  <recipe>
    <name>lwr_used_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide>
      <id>922350000</id>
      <frac>156.729</frac>
    </nuclide>
    <nuclide>
      <id>922360000</id>
      <frac>102.103</frac>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <frac>18280.324</frac>
    </nuclide>
    <nuclide>
      <id>932370000</id>
      <frac>13.656</frac>
    </nuclide>
    <nuclide>
      <id>942380000</id>
      <frac>5.043</frac>
    </nuclide>
    <nuclide>
      <id>942390000</id>
      <frac>106.343</frac>
    </nuclide>
    <nuclide>
      <id>942400000</id>
      <frac>41.357</frac>
    </nuclide>
    <nuclide>
      <id>942410000</id>
      <frac>36.477</frac>
    </nuclide>
    <nuclide>
      <id>942420000</id>
      <frac>15.387</frac>
    </nuclide>
    <nuclide>
      <id>952410000</id>
      <frac>1.234</frac>
    </nuclide>
    <nuclide>
      <id>952430000</id>
      <frac>3.607</frac>
    </nuclide>
    <nuclide>
      <id>962440000</id>
      <frac>0.431</frac>
    </nuclide>
    <nuclide>
      <id>962450000</id>
      <frac>1.263</frac>
    </nuclide>
  </recipe>

  <recipe>
    <name>hwr_used_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide>
      <id>922350000</id>
      <frac>330.478</frac>
    </nuclide>
    <nuclide>
      <id>922360000</id>
      <frac>98.944</frac>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <frac>137171.079</frac>
    </nuclide>
    <nuclide>
      <id>932370000</id>
      <frac>3.604</frac>
    </nuclide>
    <nuclide>
      <id>942380000</id>
      <frac>0.459</frac>
    </nuclide>
    <nuclide>
      <id>942390000</id>
      <frac>369.87</frac>
    </nuclide>
    <nuclide>
      <id>942400000</id>
      <frac>133.16</frac>
    </nuclide>
    <nuclide>
      <id>942410000</id>
      <frac>25.227</frac>
    </nuclide>
    <nuclide>
      <id>942420000</id>
      <frac>5.468</frac>
    </nuclide>
    <nuclide>
      <id>952410000</id>
      <frac>0.195</frac>
    </nuclide>
    <nuclide>
      <id>952430000</id>
      <frac>0.167</frac>
    </nuclide>
    <nuclide>
      <id>962440000</id>
      <frac>0.07</frac>
    </nuclide>
    <nuclide>
      <id>962450000</id>
      <frac>0.014</frac>
    </nuclide>
  </recipe>

</simulation>
